jQuery(function(e){let r=!1;function _(){var a=[{display_name:"Plugin",variable_name:"plugin",value:"woo-squad"}];return wc_squad_params.meta_order_id&&a.push({display_name:"Order ID",variable_name:"order_id",value:wc_squad_params.meta_order_id}),wc_squad_params.meta_name&&a.push({display_name:"Customer Name",variable_name:"customer_name",value:wc_squad_params.meta_name}),wc_squad_params.meta_email&&a.push({display_name:"Customer Email",variable_name:"customer_email",value:wc_squad_params.meta_email}),wc_squad_params.meta_phone&&a.push({display_name:"Customer Phone",variable_name:"customer_phone",value:wc_squad_params.meta_phone}),wc_squad_params.meta_billing_address&&a.push({display_name:"Billing Address",variable_name:"billing_address",value:wc_squad_params.meta_billing_address}),wc_squad_params.meta_shipping_address&&a.push({display_name:"Shipping Address",variable_name:"shipping_address",value:wc_squad_params.meta_shipping_address}),wc_squad_params.meta_products&&a.push({display_name:"Products",variable_name:"products",value:wc_squad_params.meta_products}),a}function n(){var a=[];return wc_squad_params.bank_channel&&a.push("bank"),wc_squad_params.card_channel&&a.push("card"),wc_squad_params.ussd_channel&&a.push("ussd"),wc_squad_params.transfer_channel&&a.push("transfer"),a}function a(){if(e("#wc-squad-form").hide(),r)return!(r=!1);let s=e("form#payment-form, form#order_review");s.find("input.squad_txnref").val("");var a=Number(wc_squad_params.amount),a={onClose:function(){s.append('<input type="hidden" class="squad_txnref" name="squad_txnref" value="'+wc_squad_params.transaction_ref+'"/>'),r=!0,s.submit(),e("body").block({message:null,overlayCSS:{background:"#fff",opacity:.6},css:{cursor:"wait"}})},onLoad:()=>{console.log("Modal has loaded")},onSuccess:function(a){console.log(a),s.append('<input type="hidden" class="squad_txnref" name="squad_txnref" value="'+a.transaction_ref+'"/>'),r=!0,s.submit(),e("body").block({message:null,overlayCSS:{background:"#fff",opacity:.6},css:{cursor:"wait"}})},key:wc_squad_params.key,email:wc_squad_params.email,amount:a,transaction_ref:wc_squad_params.transaction_ref,currency_code:wc_squad_params.currency_code,customer_name:wc_squad_params.customer_name,metadata:{custom_fields:_}},a=(Array.isArray(n())&&n().length&&(a.payment_channels=n()),wc_squad_params.is_recurring&&(a.is_recurring=!0),new squad(a));a.setup(),a.open()}a(),jQuery("#squad-payment-button").click(a),jQuery("#squad_form form#order_review").submit(a)});